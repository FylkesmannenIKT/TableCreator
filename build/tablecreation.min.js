/*! tablecreation 2016-07-11 */
"use strict";String.prototype.isNumeric=function(){return!isNaN(parseFloat(this))&&isFinite(this)},Array.prototype.clean=function(){for(var a=0;a<this.length;a++)""===this[a]&&this.splice(a,1);return this};var tableC={buildTable:function(a,b){for(var c='<table class="data_table"><thead>',d=0;d<a.thead.rows.length;++d){var e=a.thead.rows[d];c+="<tr>";for(var f=0;f<e.length;++f){var g=e[f],h=g.hasOwnProperty("colspan")?' colspan="'+g.colspan+'"':"",i=g.hasOwnProperty("title")?g.title:"";c+="<th "+h+">"+i+"</th>"}c+="</tr>"}c+="<tr>";for(var j=0;j<a.thead.cols.length;++j){var k=a.thead.cols[j],l=k.hasOwnProperty("title")?k.title:null;c+="<th>"+l+"</th>"}c+="</tr>",c+="</thead><tbody>";for(var m=0;m<a.tbody.length;++m){var n=a.tbody[m];c+="<tr>";for(var o=a.thead.cols,p=0;p<o.length;++p){var q=o[p].id,r=n.hasOwnProperty(q)?n[q]:"",s=o[p].hasOwnProperty("class")?o[p]["class"]:"";if(o[p].hasOwnProperty("method")){var t=o[p].method,u=o[p].hasOwnProperty("type")?o[p].type:"",v=tableC.parseMethod(t,n);v="number"==u?tableC.formatData(v,"number"):v,c+='<td class="'+u+" "+s+'">'+v+"</td>"}else if(o[p].hasOwnProperty("type"))switch(o[p].type){case"method":r=tableC.parseMethod(r,n),c+='<td class="'+o[p].type+" "+s+'">'+tableC.formatData(r,"number")+"</td>";break;case"number":c+='<td class="'+o[p].type+" "+s+'">'+tableC.formatData(r,"number")+"</td>";break;case"string":case"undefined":c+='<td class="tcLeftAlign '+o[p].type+" "+s+'">'+r+"</td>";break;case"index":c+="<td>"+(m+1)+"</td>";break;default:c+='<td class="'+o[p].type+" "+s+'">'+r+"</td>"}else c+='<td class="tcLeftAlign '+s+'"></td>'}c+="</tr>"}if(c+="</tbody>",a.tfoot.hasOwnProperty("cols")&&Array.isArray(a.tfoot.cols)&&a.tfoot.cols.length>0){c+="<tfoot><tr>";for(var w=0;w<a.tfoot.cols.length;++w){var x,y=a.tfoot.cols[w],z="";w<a.thead.cols.length&&(z=a.thead.cols[w].hasOwnProperty("class")?a.thead.cols[w]["class"]:"");var A=y.hasOwnProperty("class")?y["class"]:"";y.hasOwnProperty("title")?c+='<td class="'+z+" "+A+' string">'+y.title+"</td>":y.hasOwnProperty("method")?(x=tableC.parseMethod(y.method,a),c+='<td class="'+z+" "+A+' number">'+tableC.formatData(x,"number")+"</td>"):c+="<td></td>"}c+="</tfoot></tr>"}c+="</table>",b.innerHTML=c},formatData:function(a,b){var c=a;switch(b){case"number":var d=c.toString().split(".");d[0]=d[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),c=d.join(".");var e='<span class="minus">'+c.replace("-","- ")+"</span>";c="-"==c.charAt(0)?e:c}return c},methods:{sum:function(a){for(var b=0,c=0;c<a.length;++c)b+=parseFloat(a[c]);return b},avg:function(a){for(var b=0,c=0;c<a.length;++c)b+=parseFloat(a[c]);return b/a.length}},calculate:function(a,b,c){var d,e=[];if(c.hasOwnProperty("tbody"))for(var f=0;f<b.length;++f){var g=b[f];if("number"!=typeof g){var h=!1;"string"==typeof g&&"-"===g.charAt(0)&&(h=!0,g=g.slice(1));for(var i=0;i<c.tbody.length;++i){var j=c.tbody[i];if(j.hasOwnProperty(g)){for(var k=null,l=0;l<c.thead.cols.length&&(k=c.thead.cols[l],k.id!==g);++l);if("method"===k.type){var m=tableC.parseMethod(j[g],j);e.push(h?-m:m)}else k.hasOwnProperty("method")||"number"===k.type&&e.push(h?-j[g]:j[g])}}}else e.push(h?-g:g)}else for(var n=0;n<b.length;++n){var o=b[n];"number"==typeof o?e.push(o):c.hasOwnProperty(o)?e.push(c[o]):"-"===o.charAt(0)&&c.hasOwnProperty(o.slice(1))&&e.push(-c[o.slice(1)])}return d=tableC.methods[a](e)},parseMethod:function(a,b){var c=a.replace(/\s+/g,"");c=c.split(/([\,\(\)])/).clean();for(var d=[[]],e=[],f=0;f<c.length;++f){var g=c[f];if(tableC.methods.hasOwnProperty(g))e.push(g);else if("("===g)d.push([]);else if(g.isNumeric())d[d.length-1].push(parseFloat(g));else if(")"===g){var h=d.pop(),i=e.pop(),j=tableC.calculate(i,h,b);d[d.length-1].push(j)}else","!==g&&d[d.length-1].push(g)}var k=parseFloat(d.pop()).toFixed(0);return k=isNaN(k)?"":k}};